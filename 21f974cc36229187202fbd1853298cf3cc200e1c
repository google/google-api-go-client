{
  "comments": [
    {
      "key": {
        "uuid": "f19a4877_12a28c6d",
        "filename": "gensupport/resumable.go",
        "patchSetId": 2
      },
      "lineNbr": 128,
      "author": {
        "id": 5505
      },
      "writtenOn": "2016-02-03T23:41:55Z",
      "side": 1,
      "message": "After you sync my changes to the upload loop, you will find that CheckResponse is a little too strict here. You will need to allow for status 308 to be treated as a non-error.\n\nAdditionally, we want to retry on 5xx errors too. See https://developers.google.com/drive/v2/web/manage-uploads#best-practices.\n\nI think it\u0027s safest to only call CheckResponse here for the specific case where resp.StatusCode \u003d\u003d 403.  Even better might be to factor out the code in CheckResponse that constructs an error from a Response (i.e. most of it), and call that from here.",
      "range": {
        "startLine": 128,
        "startChar": 18,
        "endLine": 128,
        "endChar": 31
      },
      "revId": "21f974cc36229187202fbd1853298cf3cc200e1c",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f19a4877_920cbc59",
        "filename": "gensupport/resumable.go",
        "patchSetId": 2
      },
      "lineNbr": 131,
      "author": {
        "id": 5505
      },
      "writtenOn": "2016-02-03T23:41:55Z",
      "side": 1,
      "message": "The response body should be closed here.  This is probably most simply achieved by deleting this and moving line 128 directly below the call to transferChunks (wrapping it in \"if err \u003d\u003d nil\").",
      "range": {
        "startLine": 128,
        "startChar": 2,
        "endLine": 131,
        "endChar": 3
      },
      "revId": "21f974cc36229187202fbd1853298cf3cc200e1c",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    }
  ]
}