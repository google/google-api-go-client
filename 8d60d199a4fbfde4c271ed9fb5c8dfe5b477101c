{
  "comments": [
    {
      "key": {
        "uuid": "5a7fc44c_67e626bd",
        "filename": "internal/pool.go",
        "patchSetId": 3
      },
      "lineNbr": 32,
      "author": {
        "id": 5140
      },
      "writtenOn": "2016-07-18T07:12:47Z",
      "side": 1,
      "message": "change or removed",
      "range": {
        "startLine": 32,
        "startChar": 42,
        "endLine": 32,
        "endChar": 61
      },
      "revId": "8d60d199a4fbfde4c271ed9fb5c8dfe5b477101c",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a7fc44c_076aba99",
        "filename": "internal/pool.go",
        "patchSetId": 3
      },
      "lineNbr": 32,
      "author": {
        "id": 7505
      },
      "writtenOn": "2016-07-18T14:55:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5a7fc44c_67e626bd",
      "range": {
        "startLine": 32,
        "startChar": 42,
        "endLine": 32,
        "endChar": 61
      },
      "revId": "8d60d199a4fbfde4c271ed9fb5c8dfe5b477101c",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a7fc44c_87e32aaa",
        "filename": "internal/pool.go",
        "patchSetId": 3
      },
      "lineNbr": 37,
      "author": {
        "id": 5140
      },
      "writtenOn": "2016-07-18T07:12:47Z",
      "side": 1,
      "message": "Comment needs to be in the form \"Resolve returns â€¦\"\n\nI wouldn\u0027t mention that it returns the resolver: that\u0027s an implementation detail.",
      "range": {
        "startLine": 37,
        "startChar": 3,
        "endLine": 37,
        "endChar": 53
      },
      "revId": "8d60d199a4fbfde4c271ed9fb5c8dfe5b477101c",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a7fc44c_275fbefb",
        "filename": "internal/pool.go",
        "patchSetId": 3
      },
      "lineNbr": 37,
      "author": {
        "id": 7505
      },
      "writtenOn": "2016-07-18T14:55:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5a7fc44c_87e32aaa",
      "range": {
        "startLine": 37,
        "startChar": 3,
        "endLine": 37,
        "endChar": 53
      },
      "revId": "8d60d199a4fbfde4c271ed9fb5c8dfe5b477101c",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a7fc44c_a7f02e6c",
        "filename": "internal/pool.go",
        "patchSetId": 3
      },
      "lineNbr": 38,
      "author": {
        "id": 5140
      },
      "writtenOn": "2016-07-18T07:12:47Z",
      "side": 1,
      "message": "Are you sure Resolve is only ever called once? This code would fail if grpc asked for multiple watchers.",
      "range": {
        "startLine": 38,
        "startChar": 23,
        "endLine": 38,
        "endChar": 30
      },
      "revId": "8d60d199a4fbfde4c271ed9fb5c8dfe5b477101c",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a7fc44c_e764f6d0",
        "filename": "internal/pool.go",
        "patchSetId": 3
      },
      "lineNbr": 38,
      "author": {
        "id": 7505
      },
      "writtenOn": "2016-07-18T14:55:53Z",
      "side": 1,
      "message": "That\u0027s how the code works today and seems like the intention.",
      "parentUuid": "5a7fc44c_a7f02e6c",
      "range": {
        "startLine": 38,
        "startChar": 23,
        "endLine": 38,
        "endChar": 30
      },
      "revId": "8d60d199a4fbfde4c271ed9fb5c8dfe5b477101c",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a7fc44c_e7ea367a",
        "filename": "internal/pool.go",
        "patchSetId": 3
      },
      "lineNbr": 45,
      "author": {
        "id": 5140
      },
      "writtenOn": "2016-07-18T07:12:47Z",
      "side": 1,
      "message": "You could also make ch of type chan []*naming.Update then:\n\naddrs :\u003d make([]*naming.Update, 0, r.poolSize)\nfor i :\u003d 0; i \u003c r.poolSize; i++ { etc. }\ngo func() {\n  r.ch \u003c- addrs\n}()\n\nThen Next is simply:\n\nreturn \u003c-r.ch, nil",
      "range": {
        "startLine": 45,
        "startChar": 1,
        "endLine": 45,
        "endChar": 27
      },
      "revId": "8d60d199a4fbfde4c271ed9fb5c8dfe5b477101c",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a7fc44c_6759c613",
        "filename": "internal/pool.go",
        "patchSetId": 3
      },
      "lineNbr": 45,
      "author": {
        "id": 7505
      },
      "writtenOn": "2016-07-18T14:55:53Z",
      "side": 1,
      "message": "Neat, thanks. For the first call to Next() I had to make r.ch a buffered channel:\nr.ch \u003d make(chan []*naming.Update, 1)\n\nDoes that make sense?",
      "parentUuid": "5a7fc44c_e7ea367a",
      "range": {
        "startLine": 45,
        "startChar": 1,
        "endLine": 45,
        "endChar": 27
      },
      "revId": "8d60d199a4fbfde4c271ed9fb5c8dfe5b477101c",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a7fc44c_07f0fa66",
        "filename": "internal/pool.go",
        "patchSetId": 3
      },
      "lineNbr": 49,
      "author": {
        "id": 5140
      },
      "writtenOn": "2016-07-18T07:12:47Z",
      "side": 1,
      "message": "Next returns a static list of updates on the first call, and blocks indefinitely until Close is called on subsequent calls.",
      "range": {
        "startLine": 49,
        "startChar": 3,
        "endLine": 49,
        "endChar": 53
      },
      "revId": "8d60d199a4fbfde4c271ed9fb5c8dfe5b477101c",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a7fc44c_475cc204",
        "filename": "internal/pool.go",
        "patchSetId": 3
      },
      "lineNbr": 49,
      "author": {
        "id": 7505
      },
      "writtenOn": "2016-07-18T14:55:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5a7fc44c_07f0fa66",
      "range": {
        "startLine": 49,
        "startChar": 3,
        "endLine": 49,
        "endChar": 53
      },
      "revId": "8d60d199a4fbfde4c271ed9fb5c8dfe5b477101c",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a7fc44c_4702023e",
        "filename": "internal/pool_test.go",
        "patchSetId": 3
      },
      "lineNbr": 42,
      "author": {
        "id": 5140
      },
      "writtenOn": "2016-07-18T07:12:47Z",
      "side": 1,
      "message": "Check Meta too?",
      "revId": "8d60d199a4fbfde4c271ed9fb5c8dfe5b477101c",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a7fc44c_e79dd6d4",
        "filename": "internal/pool_test.go",
        "patchSetId": 3
      },
      "lineNbr": 42,
      "author": {
        "id": 7505
      },
      "writtenOn": "2016-07-18T14:55:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5a7fc44c_4702023e",
      "revId": "8d60d199a4fbfde4c271ed9fb5c8dfe5b477101c",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a7fc44c_67ff0635",
        "filename": "internal/pool_test.go",
        "patchSetId": 3
      },
      "lineNbr": 44,
      "author": {
        "id": 5140
      },
      "writtenOn": "2016-07-18T07:12:47Z",
      "side": 1,
      "message": "Do you want to check the blocking nature of Next?",
      "range": {
        "startLine": 44,
        "startChar": 2,
        "endLine": 44,
        "endChar": 14
      },
      "revId": "8d60d199a4fbfde4c271ed9fb5c8dfe5b477101c",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a7fc44c_e74156fc",
        "filename": "internal/pool_test.go",
        "patchSetId": 3
      },
      "lineNbr": 44,
      "author": {
        "id": 7505
      },
      "writtenOn": "2016-07-18T14:55:53Z",
      "side": 1,
      "message": "Makes sense. Not sure the best way to test this but I took a stab at it.",
      "parentUuid": "5a7fc44c_67ff0635",
      "range": {
        "startLine": 44,
        "startChar": 2,
        "endLine": 44,
        "endChar": 14
      },
      "revId": "8d60d199a4fbfde4c271ed9fb5c8dfe5b477101c",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a7fc44c_a7990e3c",
        "filename": "option/option.go",
        "patchSetId": 3
      },
      "lineNbr": 107,
      "author": {
        "id": 5140
      },
      "writtenOn": "2016-07-18T07:12:47Z",
      "side": 1,
      "message": "removed",
      "range": {
        "startLine": 107,
        "startChar": 53,
        "endLine": 107,
        "endChar": 61
      },
      "revId": "8d60d199a4fbfde4c271ed9fb5c8dfe5b477101c",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a7fc44c_27a89eef",
        "filename": "option/option.go",
        "patchSetId": 3
      },
      "lineNbr": 107,
      "author": {
        "id": 7505
      },
      "writtenOn": "2016-07-18T14:55:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5a7fc44c_a7990e3c",
      "range": {
        "startLine": 107,
        "startChar": 53,
        "endLine": 107,
        "endChar": 61
      },
      "revId": "8d60d199a4fbfde4c271ed9fb5c8dfe5b477101c",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a7fc44c_e7a31666",
        "filename": "option/option.go",
        "patchSetId": 3
      },
      "lineNbr": 116,
      "author": {
        "id": 5140
      },
      "writtenOn": "2016-07-18T07:12:47Z",
      "side": 1,
      "message": "I think do this directly:\n\no.GRPCDialOpts \u003d append(o.GRPCDialOpts, grpc.WithBalancer(balancer))",
      "range": {
        "startLine": 116,
        "startChar": 1,
        "endLine": 116,
        "endChar": 20
      },
      "revId": "8d60d199a4fbfde4c271ed9fb5c8dfe5b477101c",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a7fc44c_07a39a17",
        "filename": "option/option.go",
        "patchSetId": 3
      },
      "lineNbr": 116,
      "author": {
        "id": 7505
      },
      "writtenOn": "2016-07-18T14:55:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5a7fc44c_e7a31666",
      "range": {
        "startLine": 116,
        "startChar": 1,
        "endLine": 116,
        "endChar": 20
      },
      "revId": "8d60d199a4fbfde4c271ed9fb5c8dfe5b477101c",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    }
  ]
}