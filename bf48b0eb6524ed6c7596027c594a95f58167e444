{
  "comments": [
    {
      "key": {
        "uuid": "a7f08edd_1018e45f",
        "filename": "gensupport/resumable.go",
        "patchSetId": 2
      },
      "lineNbr": 121,
      "author": {
        "id": 5140
      },
      "writtenOn": "2016-01-15T02:40:55Z",
      "side": 1,
      "message": "Something needs to close res.Body in the case that we don\u0027t return it from here.\nIt looks like if res.StatusCode \u003d\u003d 308, you\u0027ll exit from the loop above but never close the response Body in this loop.",
      "range": {
        "startLine": 121,
        "startChar": 2,
        "endLine": 121,
        "endChar": 3
      },
      "revId": "bf48b0eb6524ed6c7596027c594a95f58167e444",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a7f08edd_702cd069",
        "filename": "gensupport/resumable.go",
        "patchSetId": 2
      },
      "lineNbr": 121,
      "author": {
        "id": 5505
      },
      "writtenOn": "2016-01-15T04:14:08Z",
      "side": 1,
      "message": "Done.  Added check for this in tests.",
      "parentUuid": "a7f08edd_1018e45f",
      "range": {
        "startLine": 121,
        "startChar": 2,
        "endLine": 121,
        "endChar": 3
      },
      "revId": "bf48b0eb6524ed6c7596027c594a95f58167e444",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a7f08edd_304f6842",
        "filename": "gensupport/resumable.go",
        "patchSetId": 2
      },
      "lineNbr": 121,
      "author": {
        "id": 5140
      },
      "writtenOn": "2016-01-15T04:44:36Z",
      "side": 1,
      "message": "I\u0027d actually move this straight up above, and make the ctx.Done() case below return nil. In general, I think the contact  about closing the response only applies to the case where err \u003d\u003d nil, so it would be good to carry that throughout.",
      "parentUuid": "a7f08edd_702cd069",
      "range": {
        "startLine": 121,
        "startChar": 2,
        "endLine": 121,
        "endChar": 3
      },
      "revId": "bf48b0eb6524ed6c7596027c594a95f58167e444",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a7f08edd_f0768070",
        "filename": "gensupport/resumable.go",
        "patchSetId": 2
      },
      "lineNbr": 121,
      "author": {
        "id": 5505
      },
      "writtenOn": "2016-01-15T05:14:53Z",
      "side": 1,
      "message": "I\u0027ve moved it up, but also handled the case where transferChunks returns a non-nil error, but also a body that needs to be closed.\n\nIt\u0027s a bit ugly, but I think correct.  I\u0027ll clean up the transferChunks API in a future change.",
      "parentUuid": "a7f08edd_304f6842",
      "range": {
        "startLine": 121,
        "startChar": 2,
        "endLine": 121,
        "endChar": 3
      },
      "revId": "bf48b0eb6524ed6c7596027c594a95f58167e444",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a7f08edd_f0e9e066",
        "filename": "gensupport/resumable.go",
        "patchSetId": 2
      },
      "lineNbr": 128,
      "author": {
        "id": 5140
      },
      "writtenOn": "2016-01-15T02:40:55Z",
      "side": 1,
      "message": "This should move inside the select to allow cancellation during sleep.",
      "range": {
        "startLine": 128,
        "startChar": 2,
        "endLine": 128,
        "endChar": 20
      },
      "revId": "bf48b0eb6524ed6c7596027c594a95f58167e444",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a7f08edd_303648bc",
        "filename": "gensupport/resumable.go",
        "patchSetId": 2
      },
      "lineNbr": 128,
      "author": {
        "id": 5505
      },
      "writtenOn": "2016-01-15T04:14:08Z",
      "side": 1,
      "message": "How\u0027s this?",
      "parentUuid": "a7f08edd_f0e9e066",
      "range": {
        "startLine": 128,
        "startChar": 2,
        "endLine": 128,
        "endChar": 20
      },
      "revId": "bf48b0eb6524ed6c7596027c594a95f58167e444",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a7f08edd_5052eced",
        "filename": "gensupport/resumable.go",
        "patchSetId": 2
      },
      "lineNbr": 128,
      "author": {
        "id": 5140
      },
      "writtenOn": "2016-01-15T04:44:36Z",
      "side": 1,
      "message": "Perfect. (I presume a future CL will make this do proper exp. back off)",
      "parentUuid": "a7f08edd_303648bc",
      "range": {
        "startLine": 128,
        "startChar": 2,
        "endLine": 128,
        "endChar": 20
      },
      "revId": "bf48b0eb6524ed6c7596027c594a95f58167e444",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a7f08edd_b070f873",
        "filename": "gensupport/resumable.go",
        "patchSetId": 2
      },
      "lineNbr": 128,
      "author": {
        "id": 5505
      },
      "writtenOn": "2016-01-15T05:14:53Z",
      "side": 1,
      "message": "Yes, I\u0027ve been sprinkling TODOs around the place to that effect.",
      "parentUuid": "a7f08edd_5052eced",
      "range": {
        "startLine": 128,
        "startChar": 2,
        "endLine": 128,
        "endChar": 20
      },
      "revId": "bf48b0eb6524ed6c7596027c594a95f58167e444",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a7f08edd_d0eedc6c",
        "filename": "gensupport/resumable_test.go",
        "patchSetId": 2
      },
      "lineNbr": 34,
      "author": {
        "id": 5140
      },
      "writtenOn": "2016-01-15T02:40:55Z",
      "side": 1,
      "message": "s/it/It/",
      "range": {
        "startLine": 34,
        "startChar": 3,
        "endLine": 34,
        "endChar": 5
      },
      "revId": "bf48b0eb6524ed6c7596027c594a95f58167e444",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a7f08edd_103344cc",
        "filename": "gensupport/resumable_test.go",
        "patchSetId": 2
      },
      "lineNbr": 34,
      "author": {
        "id": 5505
      },
      "writtenOn": "2016-01-15T04:14:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a7f08edd_d0eedc6c",
      "range": {
        "startLine": 34,
        "startChar": 3,
        "endLine": 34,
        "endChar": 5
      },
      "revId": "bf48b0eb6524ed6c7596027c594a95f58167e444",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a7f08edd_b0f35857",
        "filename": "gensupport/resumable_test.go",
        "patchSetId": 2
      },
      "lineNbr": 150,
      "author": {
        "id": 5140
      },
      "writtenOn": "2016-01-15T02:40:55Z",
      "side": 1,
      "message": "const (\n  chunkSize \u003d 90\n  mediaSize \u003d 300\n)",
      "range": {
        "startLine": 150,
        "startChar": 9,
        "endLine": 150,
        "endChar": 10
      },
      "revId": "bf48b0eb6524ed6c7596027c594a95f58167e444",
      "serverId": "c958e1eb-c711-3e17-a1d0-c94d35b2e5aa",
      "unresolved": false
    }
  ]
}